{"ast":null,"code":"// import React, { Component } from 'react';\n// import List from \"./List\"\n// class App extends Component {\n//   render () {\n//     return (\n//       <div className=\"container\">\n//         <div className=\"row\">\n//           <div className=\"col-md-6 mx-auto\">\n//             <h1 className=\"text-center\">TODO</h1>\n//             <List />\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// export default App;\nimport React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=\"http://localhost:5000\";function App(){const[tasks,setTasks]=useState([]);const[title,setTitle]=useState(\"\");const[editId,setEditId]=useState(null);const loadTasks=async()=>{const res=await axios.get(\"\".concat(API,\"/tasks\"));setTasks(res.data);};useEffect(()=>{loadTasks();},[]);const submit=async()=>{if(editId){await axios.put(\"\".concat(API,\"/tasks/\").concat(editId),{title});setEditId(null);}else{await axios.post(\"\".concat(API,\"/tasks\"),{title});}setTitle(\"\");loadTasks();};const editTask=task=>{setTitle(task.title);setEditId(task._id);};const deleteTask=async id=>{await axios.delete(\"\".concat(API,\"/tasks/\").concat(id));loadTasks();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"TODO\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Task Name\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"submit\",onClick:submit,children:editId?\"Update\":\"Submit\"}),tasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"task\",children:[/*#__PURE__*/_jsx(\"span\",{children:task.title}),/*#__PURE__*/_jsx(\"button\",{className:\"edit\",onClick:()=>editTask(task),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:()=>deleteTask(task._id),children:\"Delete\"})]},task._id))]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","API","App","tasks","setTasks","title","setTitle","editId","setEditId","loadTasks","res","get","concat","data","submit","put","post","editTask","task","_id","deleteTask","id","delete","className","children","placeholder","value","onChange","e","target","onClick","map"],"sources":["/home/amine/Documents/newproject/frontend/src/App.js"],"sourcesContent":["// import React, { Component } from 'react';\r\n// import List from \"./List\"\r\n\r\n// class App extends Component {\r\n//   render () {\r\n//     return (\r\n//       <div className=\"container\">\r\n//         <div className=\"row\">\r\n//           <div className=\"col-md-6 mx-auto\">\r\n//             <h1 className=\"text-center\">TODO</h1>\r\n//             <List />\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default App;\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./App.css\";\r\n\r\nconst API = \"http://localhost:5000\";\r\n\r\nfunction App() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [editId, setEditId] = useState(null);\r\n\r\n  const loadTasks = async () => {\r\n    const res = await axios.get(`${API}/tasks`);\r\n    setTasks(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadTasks();\r\n  }, []);\r\n\r\n  const submit = async () => {\r\n    if (editId) {\r\n      await axios.put(`${API}/tasks/${editId}`, { title });\r\n      setEditId(null);\r\n    } else {\r\n      await axios.post(`${API}/tasks`, { title });\r\n    }\r\n    setTitle(\"\");\r\n    loadTasks();\r\n  };\r\n\r\n  const editTask = (task) => {\r\n    setTitle(task.title);\r\n    setEditId(task._id);\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    await axios.delete(`${API}/tasks/${id}`);\r\n    loadTasks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>TODO</h1>\r\n\r\n      <input\r\n        placeholder=\"Task Name\"\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n\r\n      <button className=\"submit\" onClick={submit}>\r\n        {editId ? \"Update\" : \"Submit\"}\r\n      </button>\r\n\r\n      {tasks.map((task) => (\r\n        <div key={task._id} className=\"task\">\r\n          <span>{task.title}</span>\r\n          <button className=\"edit\" onClick={() => editTask(task)}>Edit</button>\r\n          <button className=\"delete\" onClick={() => deleteTask(task._id)}>Delete</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}